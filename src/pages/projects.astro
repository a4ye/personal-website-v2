---
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import { Icon } from "astro-icon/components";
import dimeDefenderImg from "../assets/projects/dime-defender.jpg";
import eurekaHacksImg from "../assets/projects/eureka-hacks-2025.png";
import mrGooseImg from "../assets/projects/mr-goose.png";
import igniteAiImg from "../assets/projects/ignite-ai.png";
import gdtrisImg from "../assets/projects/gdtris.png";
import { ImageMetadata } from "astro";

interface Project {
    title: string;
    description: string;
    tech: string[];
    github?: string;
    live?: string;
    image: ImageMetadata;
}

const projects: Project[] = [
    {
        title: "Dime Defender",
        description:
            "A Chrome extension that creates an Ace Attorneyâ€“style debate between two AI lawyers to debate purchases at Amazon and Shopify checkout pages. Finalist @ Hack the North 2024.",
        tech: ["Plasmo", "JavaScript", "Svelte"],
        github: "https://github.com/aryanp05/hackthenorth24",
        live: "https://devpost.com/software/budget-defender",
        image: dimeDefenderImg,
    },
    {
        title: "EurekaHACKS 2025 Website",
        description:
            "The website for the 2025 iteration of EurekaHACKS. Includes an application system, hacker dashboard, and admin dashboard.",
        tech: ["TypeScript", "Next.js", "PostgreSQL", "AWS"],
        github: "https://github.com/EurekaHackathon/EurekaHACKS-2025",
        live: "https://2025.eurekahacks.ca/",
        image: eurekaHacksImg,
    },
    {
        title: "Mr. Goose",
        description:
            "An AI-powered VSCode extension that assists beginners with coding while still encouraging learning through problem-solving. First place and best developer tool @ JAMHacks 2025.",
        tech: ["TypeScript", "VSCode Extension", "Elysia.js"],
        github: "https://github.com/a4ye/jamhacks-2025",
        image: mrGooseImg,
    },
    {
        title: "Ignite AI",
        description:
            "A webapp inspired by Infinite Craft that lets people explore different career pathways. Honourable-mention @ NSBEHacks 2024.",
        tech: ["SvelteKit", "PocketBase"],
        github: "https://github.com/danielp1218/IgniteAI",
        live: "https://igniteai.vercel.app/",
        image: igniteAiImg,
    },
    {
        title: "GDTris",
        description: "A modern Tetris game made in Godot.",
        tech: ["Godot", "GDScript"],
        github: "https://github.com/a4ye/gdtris",
        live: "https://a4ye.github.io/gdtris/",
        image: gdtrisImg,
    },
];
---

<Layout>
    <h1 class="text-xl md:text-2xl lg:text-3xl pt-12 font-bold text-ctp-mauve">Projects</h1>
    <p class="pt-2 text-sm md:text-base leading-relaxed text-ctp-subtext0">
        A collection of some of the things I've made.
    </p>

    {
        projects.length > 0 && (
            <div class="mt-8">
                <div class="space-y-4">
                    {projects.map((project, index) => (
                        <article class="bg-ctp-mantle rounded-lg overflow-hidden border border-transparent hover:border-ctp-mauve/30 transition-all duration-200">
                            <div class="flex items-center flex-col sm:flex-row p-6 gap-4">
                                {project.image && (
                                    <Image
                                        src={project.image}
                                        alt={project.title}
                                        loading={index < 3 ? "eager" : "lazy"}
                                        class="w-full sm:w-64 h-36 object-cover flex-shrink-0 rounded-lg"
                                    />
                                )}
                                <div class="flex flex-row w-full h-full justify-between items-start min-h-36">
                                    <div class="flex flex-col justify-between">
                                        <h3 class="text-lg font-semibold text-ctp-text">
                                            {project.title}
                                        </h3>
                                        <p class="mt-2 text-sm text-ctp-subtext0">
                                            {project.description}
                                        </p>
                                        <div class="mt-3 flex flex-wrap gap-2">
                                            {project.tech.map((tech) => (
                                                <span class="bg-ctp-surface0 px-2 py-0.5 rounded text-xs text-ctp-subtext1">
                                                    {tech}
                                                </span>
                                            ))}
                                        </div>
                                    </div>
                                    <div class="flex gap-3 flex-shrink-0">
                                        {project.github && (
                                            <a
                                                href={project.github}
                                                target="_blank"
                                                rel="noreferrer noopener"
                                                aria-label={`View ${project.title} on GitHub`}
                                                class="text-ctp-subtext0 hover:text-ctp-mauve transition-colors duration-200"
                                            >
                                                <Icon name="lucide--github" class="w-5 h-5" />
                                            </a>
                                        )}
                                        {project.live && (
                                            <a
                                                href={project.live}
                                                target="_blank"
                                                rel="noreferrer noopener"
                                                aria-label={`View ${project.title} live`}
                                                class="text-ctp-subtext0 hover:text-ctp-mauve transition-colors duration-200"
                                            >
                                                <Icon
                                                    name="lucide--external-link"
                                                    class="w-5 h-5"
                                                />
                                            </a>
                                        )}
                                    </div>
                                </div>
                            </div>
                        </article>
                    ))}
                </div>
            </div>
        )
    }
</Layout>
